<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Email인증</title>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<div sec:authorize="!isAuthenticated()">
    <form id="email_form">
        <input type="hidden" name="certified" value="${user.certified}">
        <input type="hidden" name="userName" value="${user.userName}">
    </form>
</div>

<button id="email_send_buttton">이메일 인증하기</button>

<script type="text/javascript">
    $('#email_send_buttton').on(
        'click',
        function() {
            $.ajax({
                url : "/user/email/send",
                type : "GET",
                data : $("#email_form").serialize(),
                success : function(data) {
                    alert("이메일이 전송되었습니다.")
                },
                error : function(e) {
                    console.log(e);
                }
            });
        });
</script>
</body>
</html>